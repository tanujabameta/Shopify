"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("react"),e=function(){return(e=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var u in e=arguments[t])Object.prototype.hasOwnProperty.call(e,u)&&(r[u]=e[u]);return r}).apply(this,arguments)};function t(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)e.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(t[n[u]]=r[n[u]])}return t}function n(r,e,t,n){return new(t||(t=Promise))((function(u,i){function a(r){try{o(n.next(r))}catch(r){i(r)}}function c(r){try{o(n.throw(r))}catch(r){i(r)}}function o(r){var e;r.done?u(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(a,c)}o((n=n.apply(r,e||[])).next())}))}function u(r,e){var t,n,u,i,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(u=2&i[0]?n.return:i[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,i[1])).done)return u;switch(n=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(u=a.trys,(u=u.length>0&&u[u.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){a.label=i[1];break}if(6===i[0]&&a.label<u[1]){a.label=u[1],u=i;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(i);break}u[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(r,a)}catch(r){i=[6,r],n=0}finally{t=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function i(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,u,i=t.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(r){u={error:r}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(u)throw u.error}}return a}function c(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(a(arguments[e]));return r}var o=function(r){return r instanceof HTMLElement},s="blur",l="change",f="input",d="onBlur",v="onChange",y="onSubmit",h="onTouched",p="all",m="max",b="min",g="maxLength",A="minLength",x="pattern",R="required",F="validate";var w=function(r){return null==r},V=function(r){return"object"==typeof r},S=function(r){return!w(r)&&!Array.isArray(r)&&V(r)&&!(r instanceof Date)},C=function(r){return!Array.isArray(r)&&(/^\w*$/.test(r)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(r))},O=function(r){return r.filter(Boolean)},k=function(r){return O(r.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."))};function E(r,e,t){for(var n=-1,u=C(e)?[e]:k(e),i=u.length,a=i-1;++n<i;){var c=u[n],o=t;if(n!==a){var s=r[c];o=S(s)||Array.isArray(s)?s:isNaN(+u[n+1])?{}:[]}r[c]=o,r=r[c]}return r}var D=function(r,e){for(var t in void 0===e&&(e={}),r)C(t)?e[t]=r[t]:E(e,t,r[t]);return e},B=function(r){return void 0===r},j=function(r,e,t){var n=O(e.split(/[,[\].]+?/)).reduce((function(r,e){return w(r)?r:r[e]}),r);return B(n)||n===r?B(r[e])?t:r[e]:n},W=function(r,e){o(r)&&r.removeEventListener&&(r.removeEventListener(f,e),r.removeEventListener(l,e),r.removeEventListener(s,e))},L={isValid:!1,value:""},T=function(r){return Array.isArray(r)?r.reduce((function(r,e){return e&&e.ref.checked?{isValid:!0,value:e.ref.value}:r}),L):L},N=function(r){return"radio"===r.type},P=function(r){return"file"===r.type},M=function(r){return"checkbox"===r.type},I=function(r){return"select-multiple"===r.type},H={value:!1,isValid:!1},U={value:!0,isValid:!0},q=function(r){if(Array.isArray(r)){if(r.length>1){var e=r.filter((function(r){return r&&r.ref.checked})).map((function(r){return r.ref.value}));return{value:e,isValid:!!e.length}}var t=r[0].ref,n=t.checked,u=t.value,i=t.attributes;return n?i&&!B(i.value)?B(u)||""===u?U:{value:u,isValid:!0}:U:H}return H};function _(r,e,t,n){var u=r.current[e];if(u){var i=u.ref,a=i.value,o=i.disabled,s=u.ref;if(o&&n)return;return P(s)?s.files:N(s)?T(u.options).value:I(s)?c(s.options).filter((function(r){return r.selected})).map((function(r){return r.value})):M(s)?q(u.options).value:a}if(t)return j(t.current,e)}function z(r){return!r||r instanceof HTMLElement&&r.nodeType!==Node.DOCUMENT_NODE&&z(r.parentNode)}var G=function(r){return S(r)&&!Object.keys(r).length},$=function(r){return"boolean"==typeof r};function J(r,e){var t=C(e)?[e]:k(e),n=1==t.length?r:function(r,e){for(var t=e.slice(0,-1).length,n=0;n<t;)r=B(r)?n++:r[e[n++]];return r}(r,t),u=t[t.length-1],i=void 0;n&&delete n[u];for(var a=0;a<t.slice(0,-1).length;a++){var c=-1,o=void 0,s=t.slice(0,-(a+1)),l=s.length-1;for(a>0&&(i=r);++c<s.length;){var f=s[c];o=o?o[f]:r[f],l===c&&(S(o)&&G(o)||Array.isArray(o)&&!o.filter((function(r){return S(r)&&!G(r)||$(r)})).length)&&(i?delete i[f]:delete r[f]),i=o}}return r}var K=function(r,e){return r&&r.ref===e};function Q(r,t,n,u,i){for(var a,c=-1;++c<r.length;){for(var o in r[c])Array.isArray(r[c][o])?(!n[c]&&(n[c]={}),n[c][o]=[],Q(r[c][o],j(t[c]||{},o,[]),n[c][o],n[c],o)):j(t[c]||{},o)===r[c][o]?E(n[c]||{},o):n[c]=e(e({},n[c]),((a={})[o]=!0,a));!n.length&&u&&delete u[i]}return n.length?n:void 0}var X=function(r){return"string"==typeof r},Y=function(r){return w(r)||!V(r)};function Z(r,e){if(Y(r)||Y(e))return e;for(var t in e){var n=r[t],u=e[t];try{r[t]=S(n)&&S(u)||Array.isArray(n)&&Array.isArray(u)?Z(n,u):u}catch(r){}}return r}var rr=function(r,t,n,u){var i={},a=function(e){(B(u)||(X(u)?e.startsWith(u):Array.isArray(u)&&u.find((function(r){return e.startsWith(r)}))))&&(i[e]=_(r,e,void 0,n))};for(var c in r.current)a(c);return Z(D(e({},(t||{}).current||{})),D(i))};function er(r,e,t){var n,u;void 0===r&&(r=[]),void 0===e&&(e=[]);var a=Object.keys(r),c=Object.keys(e);if(a.length!==c.length)return!1;try{for(var o=i(a),s=o.next();!s.done;s=o.next()){var l=s.value;if(!t||!["ref","context"].includes(l)){var f=r[l],d=e[l];if((S(f)||Array.isArray(f))&&(S(d)||Array.isArray(d))?!er(f,d,t):f!==d)return!1}}}catch(r){n={error:r}}finally{try{s&&!s.done&&(u=o.return)&&u.call(o)}finally{if(n)throw n.error}}return!0}var tr=function(r){return r instanceof RegExp},nr=function(r){return S(e=r)&&!tr(e)?r:{value:r,message:""};var e},ur=function(r){return"function"==typeof r},ir=function(e){return X(e)||S(e)&&r.isValidElement(e)};function ar(r,e,t){if(void 0===t&&(t="validate"),ir(r)||$(r)&&!r)return{type:t,message:ir(r)?r:"",ref:e}}var cr=function(r,t,n,u,i){var a;if(t){var c=n[r];return e(e({},c),{types:e(e({},c&&c.types?c.types:{}),(a={},a[u]=i||!0,a))})}return{}},or=function(r,t,c,o){var s=c.ref,l=c.ref,f=l.type,d=l.value,v=c.options,y=c.required,h=c.maxLength,p=c.minLength,V=c.min,C=c.max,O=c.pattern,k=c.validate;return n(void 0,void 0,void 0,(function(){var n,c,l,E,D,B,j,W,L,P,I,H,U,z,J,K,Q,Y,Z,rr,er,or,sr,lr,fr,dr,vr,yr,hr,pr,mr,br,gr,Ar,xr,Rr,Fr,wr,Vr,Sr,Cr,Or,kr,Er,Dr,Br;return u(this,(function(u){switch(u.label){case 0:return n=r.current,c=s.name,l={},E=N(s),D=M(s),B=E||D,j=""===d,W=cr.bind(null,c,t,l),L=function(r,t,n,u,i){void 0===u&&(u=g),void 0===i&&(i=A);var a=r?t:n;l[c]=e({type:r?u:i,message:a,ref:s},W(r?u:i,a))},y&&(!E&&!D&&(j||w(d))||$(d)&&!d||D&&!q(v).isValid||E&&!T(v).isValid)&&(P=ir(y)?{value:!!y,message:y}:nr(y),I=P.value,H=P.message,I&&(l[c]=e({type:R,message:H,ref:B?((n[c].options||[])[0]||{}).ref:s},W(R,H)),!t))?[2,l]:(w(V)&&w(C)||(yr=void 0,hr=void 0,U=nr(C),z=U.value,J=U.message,K=nr(V),Q=K.value,Y=K.message,"number"===f||!f&&!isNaN(d)?(Z=s.valueAsNumber||parseFloat(d),w(z)||(yr=Z>z),w(Q)||(hr=Z<Q)):(rr=s.valueAsDate||new Date(d),X(z)&&(yr=rr>new Date(z)),X(Q)&&(hr=rr<new Date(Q))),!yr&&!hr||(L(!!yr,J,Y,m,b),t)))&&(!X(d)||j||!h&&!p||(er=nr(h),or=er.value,sr=er.message,lr=nr(p),fr=lr.value,dr=lr.message,vr=d.toString().length,yr=!w(or)&&vr>or,hr=!w(fr)&&vr<fr,!yr&&!hr||(L(!!yr,sr,dr),t)))&&(!O||j||(pr=nr(O),mr=pr.value,br=pr.message,!tr(mr)||mr.test(d)||(l[c]=e({type:x,message:br,ref:s},W(x,br)),t)))?k?(gr=_(r,c,o),Ar=B&&v?v[0].ref:s,ur(k)?[4,k(gr)]:[3,2]):[3,11]:[2,l];case 1:return xr=u.sent(),(kr=ar(xr,Ar))&&(l[c]=e(e({},kr),W(F,kr.message)),!t)?[2,l]:[3,11];case 2:if(!S(k))return[3,11];Rr={},u.label=3;case 3:u.trys.push([3,8,9,10]),Fr=i(Object.entries(k)),wr=Fr.next(),u.label=4;case 4:return wr.done?[3,7]:(Vr=a(wr.value,2),Sr=Vr[0],Cr=Vr[1],G(Rr)||t?[4,Cr(gr)]:[3,7]);case 5:Or=u.sent(),(kr=ar(Or,Ar,Sr))&&(Rr=e(e({},kr),W(Sr,kr.message)),t&&(l[c]=Rr)),u.label=6;case 6:return wr=Fr.next(),[3,4];case 7:return[3,10];case 8:return Er=u.sent(),Dr={error:Er},[3,10];case 9:try{wr&&!wr.done&&(Br=Fr.return)&&Br.call(Fr)}finally{if(Dr)throw Dr.error}return[7];case 10:if(!G(Rr)&&(l[c]=e({ref:Ar},Rr),!t))return[2,l];u.label=11;case 11:return[2,l]}}))}))},sr=function(r,e){return Object.entries(e).map((function(t){var n=a(t,2);return function(e,t,n){var u=n?r+"."+e:r+"["+e+"]";return Y(t)?u:sr(u,t)}(n[0],n[1],S(e))})).flat(1/0)},lr=function(r,e,t,n,u){var i;return t.add(e),G(r)?i=void 0:(i=j(r,e),(S(i)||Array.isArray(i))&&sr(e,i).forEach((function(r){return t.add(r)}))),B(i)?u?n:j(n,e):i},fr=function(r){var e=r.isOnBlur,t=r.isOnChange,n=r.isOnTouch,u=r.isTouched,i=r.isReValidateOnBlur,a=r.isReValidateOnChange,c=r.isBlurEvent,o=r.isSubmitted;return!r.isOnAll&&(!o&&n?!(u||c):(o?i:e)?!c:!(o?a:t)||c)},dr=function(r){return r.substring(0,r.indexOf("["))},vr=function(r,e){return RegExp(("^"+e+"[\\d+]").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(r)},yr=function(r,e){return c(r).some((function(r){return vr(e,r)}))};function hr(r){var e;if(Y(r))return r;if(r instanceof Date)return e=new Date(r.getTime());for(var t in e=Array.isArray(r)?[]:{},r)e[t]=hr(r[t]);return e}var pr=function(r){return{isOnSubmit:!r||r===y,isOnBlur:r===d,isOnChange:r===v,isOnAll:r===p,isOnTouch:r===h}},mr=function(r){return N(r)||M(r)},br="undefined"==typeof window,gr="undefined"!=typeof document&&!br&&!B(window.HTMLElement),Ar=gr?"Proxy"in window:"undefined"!=typeof Proxy;var xr=r.createContext(null);xr.displayName="RHFContext";var Rr=function(){return r.useContext(xr)},Fr=function(){var r="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(16*Math.random()+r)%16|0;return("x"==e?t:3&t|8).toString(16)}))};var wr=function(r,e){return B(e)?[]:Array.isArray(e)?function(r,e){for(var t=-1;++t<r.length;)e.indexOf(t)>=0&&delete r[t];return O(r)}(r,e):function(r,e){return c(r.slice(0,e),r.slice(e+1))}(r,e)},Vr=function(r,e,t){return Array.isArray(r)?(B(r[t])&&(r[t]=void 0),r.splice(t,0,r.splice(e,1)[0]),r):[]},Sr=function(r,e,t){var n=[r[t],r[e]];r[e]=n[0],r[t]=n[1]};function Cr(r,e){return c(Array.isArray(e)?e:[e||void 0],r)}function Or(r,e,t){return c(r.slice(0,e),Array.isArray(t)?t:[t||void 0],r.slice(e))}var kr=function(r){return Array.isArray(r)?Array(r.length).fill(void 0):void 0};function Er(r){if(S(r)){var e={};for(var t in r)e[t]=!0;return[e]}return[!0]}var Dr=function(r){return(Array.isArray(r)?r:[r]).map(Er).flat()},Br=function(r,t){return r.map((function(r){var n;return e(((n={})[t]=Fr(),n),r)}))};exports.Controller=function(n){var u=n.name,i=n.rules,c=n.as,o=n.render,s=n.defaultValue,l=n.control,f=n.onFocus,d=t(n,["name","rules","as","render","defaultValue","control","onFocus"]),v=Rr(),y=l||v.control,h=y.defaultValuesRef,p=y.setValue,m=y.register,b=y.unregister,g=y.trigger,A=y.mode,x=y.reValidateMode,R=x.isReValidateOnBlur,F=x.isReValidateOnChange,w=y.formStateRef.current,V=w.isSubmitted,C=w.touched,O=y.updateFormState,k=y.readFormStateRef,D=y.fieldsRef,W=y.fieldArrayNamesRef,L=y.shallowFieldsStateRef,T=!yr(W.current,u),N=function(){return!B(j(L.current,u))&&T?j(L.current,u):B(s)?j(h.current,u):s},P=a(r.useState(N()),2),M=P[0],I=P[1],H=r.useRef(M),U=r.useRef(f),q=function(r){return!fr(e({isBlurEvent:r,isReValidateOnBlur:R,isReValidateOnChange:F,isSubmitted:V,isTouched:!!j(C,u)},A))},_=function(r){var e=function(r){return Y(r)||!S(r.target)||S(r.target)&&!r.type?r:B(r.target.value)?r.target.checked:r.target.value}(a(r,1)[0]);return I(e),H.current=e,e},z=r.useCallback((function(){D.current[u]?D.current[u]=e({ref:D.current[u].ref},i):(m(Object.defineProperty({name:u,focus:U.current},"value",{set:function(r){I(r),H.current=r},get:function(){return H.current}}),i),T&&!j(h.current,u)&&I(N()))}),[i,u,m]);r.useEffect((function(){return function(){return b(u)}}),[b,u]),r.useEffect((function(){z()}),[z]),r.useEffect((function(){D.current[u]||(z(),T&&I(N()))}));var G=function(){k.current.touched&&!j(C,u)&&(E(C,u,!0),O({touched:C})),q(!0)&&g(u)},$=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return p(u,_(r),{shouldValidate:q(),shouldDirty:!0})},J=e(e({},d),{onChange:$,onBlur:G,name:u,value:M});return c?r.isValidElement(c)?r.cloneElement(c,J):r.createElement(c,J):o?o({onChange:$,onBlur:G,value:M,name:u}):null},exports.FormProvider=function(n){var u=n.children,i=t(n,["children"]);return r.createElement(xr.Provider,{value:e({},i)},u)},exports.appendErrors=cr,exports.get=j,exports.transformToNestObject=D,exports.useFieldArray=function(n){var u=n.control,o=n.name,s=n.keyName,l=void 0===s?"id":s,f=Rr(),d=r.useRef(-1),v=u||f.control,y=v.isWatchAllRef,h=v.resetFieldArrayFunctionRef,p=v.fieldArrayNamesRef,m=v.fieldsRef,b=v.defaultValuesRef,g=v.removeFieldEventListener,A=v.formStateRef,x=v.shallowFieldsStateRef,R=v.updateFormState,F=v.readFormStateRef,w=v.watchFieldsRef,V=v.validFieldsRef,S=v.fieldsWithValidationRef,C=v.fieldArrayDefaultValuesRef,k=v.validateResolver,D=v.renderWatchedInputs,W=v.getValues,L=v.shouldUnregister,T=dr(o),N=r.useRef(c(j(C.current,T)?j(C.current,o,[]):j(L?b.current:x.current,o,[]))),P=a(r.useState(Br(N.current,l)),2),M=P[0],I=P[1],H=r.useRef(M),U=function(){return j(W(),o,H.current).map((function(r,t){return e(e({},H.current[t]),r)}))};H.current=M,p.current.add(o),j(C.current,T)||E(C.current,T,j(b.current,T));var q=function(r){if(I(r),F.current.isValid&&k){var e=W();E(e,o,r),k(e)}},_=function(r){return(F.current.isDirty||F.current.dirtyFields)&&(B(r)||!er(r.map((function(r){void 0===r&&(r={});var e=l;r[e];return t(r,["symbol"==typeof e?e:e+""])})),j(b.current,o)))},z=function(){for(var r in m.current)vr(r,o)&&g(m.current[r],!0)},G=function(r){return!O(j(r,o,[])).length&&J(r,o)},$=function(r){var t=j(b.current,o,[]),n=function(r,t){var n;for(var u in r)for(var i in r[u])i===l||t[u]&&r[u]&&r[u][i]===t[u][i]||E(A.current.dirtyFields,o+"["+u+"]",e(e({},j(A.current.dirtyFields,o+"["+u+"]",{})),((n={})[i]=!0,n)))};r&&(n(t,r),n(r,t))},K=function(r,e,t,n,u,i){if(void 0===n&&(n=!0),void 0===u&&(u=!0),void 0===i&&(i=!1),j(x.current,o)){var a=r(j(x.current,o),e.argA,e.argB);u&&E(x.current,o,a)}if(j(C.current,o)){a=r(j(C.current,o),e.argA,e.argB);u&&E(C.current,o,a),G(C.current)}if(Array.isArray(j(A.current.errors,o))){a=r(j(A.current.errors,o),e.argA,e.argB);u&&E(A.current.errors,o,a),G(A.current.errors)}if(F.current.touched&&j(A.current.touched,o)){a=r(j(A.current.touched,o),e.argA,e.argB);u&&E(A.current.touched,o,a),G(A.current.touched)}if(F.current.dirtyFields||F.current.isDirty){a=r(j(A.current.dirtyFields,o,[]),e.argC,e.argD);u&&E(A.current.dirtyFields,o,a),$(t),G(A.current.dirtyFields)}i&&F.current.isValid&&!k&&(E(V.current,o,r(j(V.current,o,[]),e.argA)),G(V.current),E(S.current,o,r(j(S.current,o,[]),e.argA)),G(S.current)),R({errors:A.current.errors,dirtyFields:A.current.dirtyFields,isDirty:n,touched:A.current.touched})},Q=function(r){z(),!r&&J(C.current,o),J(x.current,o),N.current=j(r||b.current,o),I(Br(N.current,l))};return r.useEffect((function(){var r,e,t=j(C.current,o);if(t&&M.length<t.length&&(t.pop(),E(C.current,o,t)),y.current)R();else if(w){var n=!0;try{for(var u=i(w.current),a=u.next();!a.done;a=u.next()){if(a.value.startsWith(o)){R(),n=!1;break}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}n&&D(o)}if(d.current>-1)for(var c in m.current){var s=m.current[c];if(c.startsWith(o+"["+d.current+"]")&&s.ref.focus){s.ref.focus();break}}d.current=-1}),[M,o]),r.useEffect((function(){var r=h.current,e=p.current;return dr(o)||(r[o]=Q),function(){z(),delete r[o],e.delete(o)}}),[]),{swap:r.useCallback((function(r,e){var t=U();Sr(t,r,e),z(),q(c(t)),K(Sr,{argA:r,argB:e,argC:r,argD:e},void 0,_(t),!1)}),[o]),move:r.useCallback((function(r,e){var t=U();Vr(t,r,e),z(),q(c(t)),K(Vr,{argA:r,argB:e,argC:r,argD:e},void 0,_(t),!1)}),[o]),prepend:r.useCallback((function(r,e){void 0===e&&(e=!0);var t=kr(r),n=Cr(U(),Br(Array.isArray(r)?r:[r],l));q(n),z(),K(Cr,{argA:t,argC:Dr(r)},n),d.current=e?0:-1}),[o]),append:r.useCallback((function(r,e){void 0===e&&(e=!0);var t=c(H.current,Br(Array.isArray(r)?r:[r],l));q(t),(F.current.dirtyFields||F.current.isDirty)&&($(t),R({isDirty:!0,dirtyFields:A.current.dirtyFields})),L||(x.current[o]=c(x.current[o]||[],[r])),d.current=e?H.current.length:-1}),[o]),remove:r.useCallback((function(r){var e=U(),t=wr(e,r);q(t),z(),K(wr,{argA:r,argC:r},t,_(wr(e,r)),!0,!0)}),[o]),insert:r.useCallback((function(r,e,t){void 0===t&&(t=!0);var n=kr(e),u=U(),i=Or(u,r,Br(Array.isArray(e)?e:[e],l));q(i),z(),K(Or,{argA:r,argB:n,argC:r,argD:Dr(e)},i,_(Or(u,r))),d.current=t?r:-1}),[o]),fields:M}},exports.useForm=function(t){var d=this,h=void 0===t?{}:t,m=h.mode,b=void 0===m?y:m,g=h.reValidateMode,A=void 0===g?v:g,x=h.resolver,R=h.context,F=h.defaultValues,V=void 0===F?{}:F,k=h.shouldFocusError,L=void 0===k||k,T=h.shouldUnregister,H=void 0===T||T,U=h.criteriaMode,q=r.useRef({}),$=r.useRef({}),Z=r.useRef(new Set),tr=r.useRef({}),nr=r.useRef({}),ir=r.useRef({}),ar=r.useRef({}),cr=r.useRef(V),vr=r.useRef({}),xr=r.useRef(!1),Rr=r.useRef(!1),Fr=r.useRef(),wr=r.useRef(H?{}:hr(V)),Vr=r.useRef({}),Sr=r.useRef(R),Cr=r.useRef(x),Or=r.useRef(new Set),kr=r.useRef(pr(b)),Er=kr.current,Dr=Er.isOnSubmit,Br=Er.isOnTouch,jr=U===p,Wr=a(r.useState({isDirty:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!Dr,errors:{}}),2),Lr=Wr[0],Tr=Wr[1],Nr=r.useRef({isDirty:!Ar,dirtyFields:!Ar,touched:!Ar||Br,isSubmitting:!Ar,isValid:!Ar}),Pr=r.useRef(Lr),Mr=r.useRef(),Ir=r.useRef(pr(A)).current,Hr=Ir.isOnBlur,Ur=Ir.isOnChange;Sr.current=R,Cr.current=x,Pr.current=Lr;var qr=r.useCallback((function(r){return void 0===r&&(r={}),!xr.current&&Tr(e(e({},Pr.current),r))}),[]),_r=r.useCallback((function(r,t,n,u,i){void 0===n&&(n=!1),void 0===u&&(u={});var a=n||function(r){var e=r.errors,t=r.name,n=r.error,u=r.validFields,i=r.fieldsWithValidation,a=B(n),c=j(e,t);return a&&!!c||!a&&!er(c,n,!0)||a&&j(i,t)&&!j(u,t)}({errors:Pr.current.errors,error:t,name:r,validFields:ar.current,fieldsWithValidation:ir.current}),c=j(Pr.current.errors,r);t?(J(ar.current,r),a=a||!c||!er(c,t,!0),E(Pr.current.errors,r,t)):((j(ir.current,r)||Cr.current)&&(E(ar.current,r,!0),a=a||c),J(Pr.current.errors,r)),(a&&!w(n)||!G(u))&&qr(e(e(e({},u),{errors:Pr.current.errors}),Cr.current?{isValid:!!i}:{}))}),[]),zr=r.useCallback((function(r,e){var t=q.current[r],n=t.ref,u=t.options,i=gr&&o(n)&&w(e)?"":e;N(n)&&u?u.forEach((function(r){var e=r.ref;return e.checked=e.value===i})):P(n)&&!X(i)?n.files=i:I(n)?c(n.options).forEach((function(r){return r.selected=i.includes(r.value)})):M(n)&&u?u.length>1?u.forEach((function(r){var e=r.ref;return e.checked=Array.isArray(i)?!!i.find((function(r){return r===e.value})):i===e.value})):u[0].ref.checked=!!i:n.value=i}),[]),Gr=function(){return!er(te(),G(cr.current)?vr.current:cr.current)},$r=r.useCallback((function(r,t){if(void 0===t&&(t=!0),Nr.current.isDirty||Nr.current.dirtyFields){var n=j(vr.current,r)!==_(q,r,wr),u=j(Pr.current.dirtyFields,r),i=Pr.current.isDirty;n?E(Pr.current.dirtyFields,r,!0):J(Pr.current.dirtyFields,r);var a={isDirty:Gr(),dirtyFields:Pr.current.dirtyFields},c=Nr.current.isDirty&&i!==a.isDirty||Nr.current.dirtyFields&&u!==j(Pr.current.dirtyFields,r);return c&&t&&(Pr.current=e(e({},Pr.current),a),qr(e({},a))),c?a:{}}return{}}),[]),Jr=r.useCallback((function(r,e){return n(d,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return q.current[r]?[4,or(q,jr,q.current[r],wr)]:[3,2];case 1:return t=n.sent()[r],_r(r,t,e),[2,B(t)];case 2:return[2,!1]}}))}))}),[_r,jr]),Kr=r.useCallback((function(r){return n(d,void 0,void 0,(function(){var e,t,n,i;return u(this,(function(u){switch(u.label){case 0:return[4,Cr.current(te(),Sr.current,jr)];case 1:return e=u.sent().errors,t=Pr.current.isValid,Array.isArray(r)?(n=r.map((function(r){var t=j(e,r);return t?E(Pr.current.errors,r,t):J(Pr.current.errors,r),!t})).every(Boolean),qr({isValid:G(e),errors:Pr.current.errors}),[2,n]):(i=j(e,r),_r(r,i,t!==G(e),{},G(e)),[2,!i])}}))}))}),[_r,jr]),Qr=r.useCallback((function(r){return n(d,void 0,void 0,(function(){var e,t,i=this;return u(this,(function(a){switch(a.label){case 0:return e=r||Object.keys(q.current),Cr.current?[2,Kr(e)]:Array.isArray(e)?[4,Promise.all(e.map((function(r){return n(i,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,Jr(r,null)];case 1:return[2,e.sent()]}}))}))})))]:[3,2];case 1:return t=a.sent(),qr(),[2,t.every(Boolean)];case 2:return[4,Jr(e,Nr.current.isValid)];case 3:return[2,a.sent()]}}))}))}),[Kr,Jr]),Xr=r.useCallback((function(r,e,t){var n,u,a=t.shouldDirty,c=t.shouldValidate,o={};E(o,r,e);try{for(var s=i(sr(r,e)),l=s.next();!l.done;l=s.next()){var f=l.value;q.current[f]&&(zr(f,j(o,f)),a&&$r(f),c&&Qr(f))}}catch(r){n={error:r}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(n)throw n.error}}}),[Qr,zr,$r]),Yr=r.useCallback((function(r,t,n){var u,i;void 0===n&&(n={}),q.current[r]?(zr(r,t),n.shouldDirty&&$r(r)):Y(t)||(Xr(r,t,n),Or.current.has(r)&&n.shouldDirty&&($.current[r]=t,Vr.current[r](((u={})[r]=t,u)),(Nr.current.isDirty||Nr.current.dirtyFields)&&(E(Pr.current.dirtyFields,r,Q(t,j(cr.current,r,[]),j(Pr.current.dirtyFields,r,[]))),qr({isDirty:!er(e(e({},te()),(i={},i[r]=t,i)),cr.current),dirtyFields:Pr.current.dirtyFields})))),!H&&E(wr.current,r,t)}),[$r,zr,Xr]),Zr=function(r){return Rr.current||Z.current.has(r)||Z.current.has((r.match(/\w+/)||[])[0])},re=function(r,e){if(void 0===e&&(e=!0),!G(tr.current))for(var t in tr.current)r&&tr.current[t].size&&!tr.current[t].has(r)&&!tr.current[t].has(dr(r))||(nr.current[t](),e=!1);return e};function ee(r){var t,n,u;if(!H){var a=hr(r);try{for(var c=i(Or.current),o=c.next();!o.done;o=c.next()){var s=o.value;C(s)&&!a[s]&&(a=e(e({},a),((u={})[s]=[],u)))}}catch(r){t={error:r}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a}return r}function te(r){var e,t;if(X(r))return _(q,r,wr);if(Array.isArray(r)){var n={};try{for(var u=i(r),a=u.next();!a.done;a=u.next()){var c=a.value;E(n,c,_(q,c,wr))}}catch(r){e={error:r}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return n}return ee(rr(q,wr))}Fr.current=Fr.current?Fr.current:function(r){var t=r.type,i=r.target;return n(d,void 0,void 0,(function(){var r,n,a,c,o,l,f,d,v,y;return u(this,(function(u){switch(u.label){case 0:return r=i.name,(n=q.current[r])?(l=fr(e({isBlurEvent:o=t===s,isReValidateOnChange:Ur,isReValidateOnBlur:Hr,isTouched:!!j(Pr.current.touched,r),isSubmitted:Pr.current.isSubmitted},kr.current)),f=$r(r,!1),d=!G(f)||Zr(r),o&&!j(Pr.current.touched,r)&&Nr.current.touched&&(E(Pr.current.touched,r,!0),f=e(e({},f),{touched:Pr.current.touched})),l?(re(r),[2,(!G(f)||d&&G(f))&&qr(f)]):Cr.current?[4,Cr.current(te(),Sr.current,jr)]:[3,2]):[3,5];case 1:return v=u.sent().errors,y=Pr.current.isValid,a=j(v,r),c=G(v),y!==c&&(d=!0),[3,4];case 2:return[4,or(q,jr,n,wr)];case 3:a=u.sent()[r],u.label=4;case 4:re(r),_r(r,a,d,f,c),u.label=5;case 5:return[2]}}))}))};var ne=r.useCallback((function(r){return void 0===r&&(r={}),n(d,void 0,void 0,(function(){var t,n;return u(this,(function(u){switch(u.label){case 0:return[4,Cr.current(e(e(e({},cr.current),te()),r),Sr.current,jr)];case 1:return t=u.sent().errors,n=G(t),Pr.current.isValid!==n&&qr({isValid:n}),[2]}}))}))}),[jr]),ue=r.useCallback((function(r,e){return function(r,e,t,n,u,i){var a=t.ref,c=t.ref,o=c.name,s=c.type,l=r.current[o];if(!u){var f=_(r,o,n);B(f)||E(n.current,o,f)}if(s)if((N(a)||M(a))&&l){var d=l.options;Array.isArray(d)&&d.length?(O(d).forEach((function(r,t){var n=r.ref;(n&&z(n)&&K(r,n)||i)&&(W(n,e),J(d,"["+t+"]"))})),d&&!O(d).length&&delete r.current[o]):delete r.current[o]}else(z(a)&&K(l,a)||i)&&(W(a,e),delete r.current[o]);else delete r.current[o]}(q,Fr.current,r,wr,H,e)}),[H]),ie=r.useCallback((function(r,e){r&&(ue(r,e),H&&!O(r.options||[]).length&&(J(vr.current,r.ref.name),J(ar.current,r.ref.name),J(ir.current,r.ref.name),J(Pr.current.errors,r.ref.name),E(Pr.current.dirtyFields,r.ref.name,!0),qr({errors:Pr.current.errors,isDirty:Gr(),dirtyFields:Pr.current.dirtyFields}),Cr.current&&ne()))}),[ne,ue]),ae=r.useCallback((function(r,t,n){var u=n?tr.current[n]:Z.current,i=B(t)?cr.current:t,a=rr(q,wr,!1,r);return X(r)?lr(a,r,u,B(t)?j(i,r):t,!0):Array.isArray(r)?r.reduce((function(r,t){var n;return e(e({},r),((n={})[t]=lr(a,t,u,i),n))}),{}):(Rr.current=B(n),D(!G(a)&&a||i))}),[]);function ce(r,t){void 0===t&&(t={});var n,u=r.name,i=r.type,a=r.value,d=e({ref:r},t),v=q.current,y=mr(r),h=yr(Or.current,u),p=function(e){return gr&&(!o(r)||e===r)},m=v[u],b=!0;if(m&&(y?Array.isArray(m.options)&&O(m.options).find((function(r){return a===r.ref.value&&p(r.ref)})):p(m.ref)))v[u]=e(e({},m),t);else{m=i?y?e({options:c(O(m&&m.options||[]),[{ref:r}]),ref:{type:i,name:u}},t):e({},d):d,v[u]=m;var g=B(j(wr.current,u));if(G(cr.current)&&g||(n=j(g?cr.current:wr.current,u),(b=B(n))||h||zr(u,n)),G(t)||(E(ir.current,u,!0),!Dr&&Nr.current.isValid&&or(q,jr,m,wr).then((function(r){var e=Pr.current.isValid;G(r)?E(ar.current,u,!0):J(ar.current,u),e!==G(r)&&qr()}))),!(vr.current[u]||h&&b)){var A=_(q,u,wr);E(vr.current,u,b?S(A)?e({},A):A:n),!h&&J(Pr.current.dirtyFields,u)}i&&function(r,e,t){var n=r.ref;o(n)&&t&&(n.addEventListener(e?l:f,t),n.addEventListener(s,t))}(y&&m.options?m.options[m.options.length-1]:m,y||"select-one"===r.type,Fr.current)}}var oe=r.useCallback((function(r,t){return function(a){return n(d,void 0,void 0,(function(){var n,c,o,s,l,f,d,v,y,h,p,m,b;return u(this,(function(u){switch(u.label){case 0:a&&a.preventDefault&&(a.preventDefault(),a.persist()),n={},c=ee(rr(q,wr,!0)),Nr.current.isSubmitting&&qr({isSubmitting:!0}),u.label=1;case 1:return u.trys.push([1,,16,17]),Cr.current?[4,Cr.current(c,Sr.current,jr)]:[3,3];case 2:return o=u.sent(),s=o.errors,l=o.values,Pr.current.errors=s,n=s,c=l,[3,10];case 3:u.trys.push([3,8,9,10]),f=i(Object.values(q.current)),d=f.next(),u.label=4;case 4:return d.done?[3,7]:(v=d.value)?(y=v.ref.name,[4,or(q,jr,v,wr)]):[3,6];case 5:(h=u.sent())[y]?(E(n,y,h[y]),J(ar.current,y)):j(ir.current,y)&&(J(Pr.current.errors,y),E(ar.current,y,!0)),u.label=6;case 6:return d=f.next(),[3,4];case 7:return[3,10];case 8:return p=u.sent(),m={error:p},[3,10];case 9:try{d&&!d.done&&(b=f.return)&&b.call(f)}finally{if(m)throw m.error}return[7];case 10:return G(n)&&Object.keys(Pr.current.errors).every((function(r){return r in q.current}))?(qr({errors:{},isSubmitting:!0}),[4,r(c,a)]):[3,12];case 11:return u.sent(),[3,15];case 12:return Pr.current.errors=e(e({},Pr.current.errors),n),t?[4,t(n,a)]:[3,14];case 13:u.sent(),u.label=14;case 14:L&&function(r,e){for(var t in r)if(j(e,t)){var n=r[t];if(n){if(n.ref.focus){n.ref.focus();break}if(n.options){n.options[0].ref.focus();break}}}}(q.current,n),u.label=15;case 15:return[3,17];case 16:return qr({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:G(Pr.current.errors),errors:Pr.current.errors,submitCount:Pr.current.submitCount+1}),[7];case 17:return[2]}}))}))}}),[L,jr]);r.useEffect((function(){return xr.current=!1,x&&Nr.current.isValid&&ne(),Mr.current=Mr.current||!gr?Mr.current:function(r,e){var t=new MutationObserver((function(){var t,n,u,a;try{for(var c=i(Object.values(r.current)),o=c.next();!o.done;o=c.next()){var s=o.value;if(s&&s.options)try{for(var l=(u=void 0,i(s.options)),f=l.next();!f.done;f=l.next()){var d=f.value;d&&d.ref&&z(d.ref)&&e(s)}}catch(r){u={error:r}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(u)throw u.error}}else s&&z(s.ref)&&e(s)}}catch(r){t={error:r}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}));return t.observe(window.document,{childList:!0,subtree:!0}),t}(q,ie),function(){xr.current=!0,Mr.current&&Mr.current.disconnect(),wr.current={},Object.values(q.current).forEach((function(r){return ie(r,!0)}))}}),[ie]),!x&&Nr.current.isValid&&(Lr.isValid=er(ar.current,ir.current)&&G(Pr.current.errors));var se={trigger:Qr,setValue:r.useCallback((function(r,e,t){Yr(r,e,t),Zr(r)&&qr(),re(r),(t||{}).shouldValidate&&Qr(r)}),[Yr,Qr]),getValues:r.useCallback(te,[]),register:r.useCallback((function(r,e){if(!br)if(X(r))ce({name:r},e);else{if(!S(r)||!("name"in r))return function(e){return e&&ce(e,r)};ce(r,e)}}),[cr.current]),unregister:r.useCallback((function(r){var e,t;try{for(var n=i(Array.isArray(r)?r:[r]),u=n.next();!u.done;u=n.next()){var a=u.value;ie(q.current[a],!0)}}catch(r){e={error:r}}finally{try{u&&!u.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}),[])},le=e({renderWatchedInputs:re,shouldUnregister:H,removeFieldEventListener:ue,watchInternal:ae,mode:kr.current,reValidateMode:{isReValidateOnBlur:Hr,isReValidateOnChange:Ur},fieldsRef:q,isWatchAllRef:Rr,watchFieldsRef:Z,resetFieldArrayFunctionRef:Vr,useWatchFieldsRef:tr,useWatchRenderFunctionsRef:nr,fieldArrayDefaultValuesRef:$,validFieldsRef:ar,fieldsWithValidationRef:ir,fieldArrayNamesRef:Or,readFormStateRef:Nr,formStateRef:Pr,defaultValuesRef:cr,shallowFieldsStateRef:wr,updateFormState:qr,validateResolver:x?ne:void 0},se);return e({watch:function(r,e){return ae(r,e)},control:le,formState:Ar?new Proxy(Lr,{get:function(r,e){if(e in r)return Nr.current[e]=!0,r[e]}}):Lr,handleSubmit:oe,reset:r.useCallback((function(r,e){var t,n;if(void 0===e&&(e={}),gr)try{for(var u=i(Object.values(q.current)),a=u.next();!a.done;a=u.next()){var c=a.value;if(c){var s=c.ref,l=c.options,f=mr(s)&&Array.isArray(l)?l[0].ref:s;if(o(f))try{f.closest("form").reset();break}catch(r){}}}}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}q.current={},cr.current=hr(r||cr.current),r&&re(""),wr.current=H?{}:hr(r)||{},Object.values(Vr.current).forEach((function(r){return ur(r)&&r()})),function(r){var e=r.errors,t=r.isDirty,n=r.isSubmitted,u=r.touched,i=r.isValid,a=r.submitCount,c=r.dirtyFields;i||(ar.current={},ir.current={}),vr.current={},$.current={},Z.current=new Set,Rr.current=!1,qr({submitCount:a?Pr.current.submitCount:0,isDirty:!!t&&Pr.current.isDirty,isSubmitted:!!n&&Pr.current.isSubmitted,isValid:!!i&&Pr.current.isValid,dirtyFields:c?Pr.current.dirtyFields:{},touched:u?Pr.current.touched:{},errors:e?Pr.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})}(e)}),[]),clearErrors:r.useCallback((function(r){r&&(Array.isArray(r)?r:[r]).forEach((function(r){return q.current[r]?C(r)?delete Pr.current.errors[r]:E(Pr.current.errors,r,void 0):J(Pr.current.errors,r)})),qr({errors:r?Pr.current.errors:{}})}),[]),setError:r.useCallback((function(r,t){var n=(q.current[r]||{}).ref;E(Pr.current.errors,r,e(e({},t),{ref:n})),qr({isValid:!1,errors:Pr.current.errors}),t.shouldFocus&&n&&n.focus&&n.focus()}),[]),errors:Lr.errors},se)},exports.useFormContext=Rr,exports.useWatch=function(t){var n=t.control,u=t.name,i=t.defaultValue,o=Rr(),s=n||o.control,l=s.useWatchFieldsRef,f=s.useWatchRenderFunctionsRef,d=s.watchInternal,v=s.defaultValuesRef,y=a(r.useState(B(i)?X(u)?j(v.current,u):Array.isArray(u)?u.reduce((function(r,t){var n;return e(e({},r),((n={})[t]=j(v.current,t),n))}),{}):v.current:i),2),h=y[0],p=y[1],m=r.useRef(),b=r.useRef(h),g=r.useCallback((function(){var r=d(u,b.current,m.current);p(S(r)?e({},r):Array.isArray(r)?c(r):r)}),[p,d,b,u,m]);return r.useEffect((function(){var r=m.current=Fr(),e=f.current,t=l.current;return t[r]=new Set,e[r]=g,d(u,b.current,r),function(){delete t[r],delete e[r]}}),[u,g,f,l,d,b]),B(h)?i:h};
//# sourceMappingURL=index.ie11.production.min.js.map
